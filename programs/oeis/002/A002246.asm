; A002246: a(1) = 3; for n > 1, a(n) = 4*phi(n); given a rational number r = p/q, where q>0, (p,q)=1, define its height to be max{|p|,q}; then a(n) = number of rational numbers of height n.
; 3,4,8,8,16,8,24,16,24,16,40,16,48,24,32,32,64,24,72,32,48,40,88,32,80,48,72,48,112,32,120,64,80,64,96,48,144,72,96,64,160,48,168,80,96,88,184,64,168,80,128,96,208,72,160,96,144,112,232,64,240,120,144,128,192,80,264,128,176,96,280,96,288,144,160,144,240,96,312,128,216,160,328,96,256,168,224,160,352,96,288,176,240,184,288,128,384,168,240,160,400,128,408,192,192,208,424,144,432,160,288,192,448,144,352,224,288,232,384,128,440,240,320,240,400,144,504,256,336,192,520,160,432,264,288,256,544,176,552,192,368,280,480,192,448,288,336,288,592,160,600,288,384,240,480,192,624,312,416,256,528,216,648,320,320,328,664,192,624,256,432,336,688,224,480,320,464,352,712,192,720,288,480,352,576,240,640,368,432,288,760,256,768,384,384,336,784,240,792,320,528,400,672,256,640,408,528,384,720,192,840,416,560,424,672,288,720,432,576,320,768,288,888,384,480,448,904,288,912,352,480,448,928,288,736,464,624,384,952,256,960,440,648,480,672,320,864,480,656,400

mov $3,2
mov $5,$0
lpb $3
  mov $0,$5
  sub $3,1
  add $0,$3
  max $0,0
  cal $0,326354 ; a(n) is the number of fractions reduced to lowest terms with numerator and denominator less than or equal to n in absolute value.
  mul $0,2
  mov $2,$3
  mul $2,$0
  add $1,$2
  mov $4,$0
lpe
min $5,1
mul $5,$4
sub $1,$5
sub $1,6
div $1,2
add $1,3
