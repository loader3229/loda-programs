; A051678: Square-pyramid-tree numbers: a(n) = sum(b(m),m=1..n), b(m) = 1^2, 1^2,2^2, 1^2,2^2,3^2,.. = (A002260)^2.
; Submitted by USTL-FIL (Lille Fr)
; 1,2,6,7,11,20,21,25,34,50,51,55,64,80,105,106,110,119,135,160,196,197,201,210,226,251,287,336,337,341,350,366,391,427,476,540,541,545,554,570,595,631,680,744,825,826,830,839,855,880,916,965,1029,1110,1210,1211,1215,1224,1240,1265,1301,1350,1414,1495,1595,1716,1717,1721,1730,1746,1771,1807,1856,1920,2001,2101,2222,2366,2367,2371
; Formula: a(n) = b(n-1), b(n) = (-binomial(truncate((sqrtint(8*n+1)+1)/2),2)+n+1)^2+b(n-1), b(0) = 1

#offset 1

mov $1,1
sub $0,1
lpb $0
  mov $3,$0
  mul $3,8
  add $3,1
  nrt $3,2
  add $3,1
  div $3,2
  bin $3,2
  mov $2,$0
  sub $2,$3
  add $2,1
  pow $2,2
  sub $0,1
  add $1,$2
lpe
mov $0,$1
