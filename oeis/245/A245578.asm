; A245578: The number of permutations of {0,0,1,1,...,n-1,n-1} that begin with 0 and in which adjacent elements are adjacent mod n.
; Submitted by loader3229
; 1,10,18,22,32,38,50,58,72,82,98,110,128,142,162,178,200,218,242,262,288,310,338,362,392,418,450,478,512,542,578,610,648,682,722,758,800,838,882,922,968,1010,1058,1102,1152,1198,1250,1298,1352,1402,1458,1510,1568,1622,1682,1738,1800,1858,1922,1982,2048,2110,2178,2242,2312,2378,2450,2518,2592,2662,2738,2810,2888,2962,3042,3118,3200,3278,3362,3442
; Formula: a(n) = b(n-2), b(n) = c(n-3), b(4) = 32, b(3) = 22, b(2) = 18, b(1) = 10, b(0) = 1, c(n) = truncate((-c(n-4)*(n-1)+c(n-2)*(n+5)+14*c(n-1)-16*c(n-3))/8), c(6) = 82, c(5) = 72, c(4) = 58, c(3) = 50, c(2) = 38, c(1) = 32, c(0) = 22

#offset 2

mov $2,1
mov $3,10
mov $4,18
mov $5,22
sub $0,2
lpb $0
  mov $7,$1
  mul $7,-1
  mul $2,$7
  rol $2,4
  mov $6,$2
  mul $6,-16
  mov $7,$1
  add $7,6
  add $5,$6
  mov $6,$3
  mul $6,$7
  add $5,$6
  mov $6,$4
  mul $6,14
  add $5,$6
  div $5,8
  sub $0,1
  add $1,1
lpe
mov $0,$2
