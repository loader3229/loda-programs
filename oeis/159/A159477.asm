; A159477: a(n) = smallest prime >= n, if 1 is counted as a prime.
; Submitted by Christian Krause
; 1,2,3,5,5,7,7,11,11,11,11,13,13,17,17,17,17,19,19,23,23,23,23,29,29,29,29,29,29,31,31,37,37,37,37,37,37,41,41,41,41,43,43,47,47,47,47,53,53,53,53,53,53,59,59,59,59,59,59,61,61,67,67,67,67,67,67,71,71,71,71,73,73,79,79,79,79,79,79,83,83,83,83,89,89,89,89,89,89,97,97,97,97,97,97,97,97,101,101,101

mov $2,$0
mov $4,$0
lpb $2
  add $4,$1
  add $1,2
  div $1,2
  sub $2,2
  mov $3,$4
  seq $3,10051 ; Characteristic function of primes: 1 if n is prime, else 0.
  lpb $3
    mul $2,0
    div $3,4
  lpe
lpe
mov $0,$4
add $0,1
