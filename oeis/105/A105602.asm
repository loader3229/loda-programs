; A105602: Divide each Fibonacci number by its primitive part.
; Submitted by Dirk Broer
; 1,1,1,1,1,2,1,3,2,5,1,24,1,13,10,21,1,136,1,165,26,89,1,1008,5,233,34,1131,1,26840,1,987,178,1597,65,46512,1,4181,466,47355,1,1269736,1,53133,10370,28657,1,2179296,13,825275,3194,364179,1,14927768,445,2224677,8362,514229,1,614045520,1,1346269,186082,2178309,1165,2805564088,1,17108661,57314,2943561335,1,4807573344,1,24157817,9153050,117264507,1157,131804634824,1,4809705285
; Formula: a(n) = f(n-1), b(n) = (d(n-1)==0)+b(n-1)+b(n-2), b(4) = 8, b(3) = 5, b(2) = 3, b(1) = 2, b(0) = 1, c(n) = truncate(((d(n-2)==0)+e(n-1)+e(n-2))/gcd(c(n-1),(d(n-2)==0)+e(n-1)+e(n-2)))*c(n-1), c(5) = 120, c(4) = 30, c(3) = 6, c(2) = 2, c(1) = 1, c(0) = 1, d(n) = (d(n-1)==0)-3, d(4) = -3, d(3) = -3, d(2) = -3, d(1) = -2, d(0) = 0, e(n) = (d(n-2)==0)+e(n-1)+e(n-2), e(5) = 8, e(4) = 5, e(3) = 3, e(2) = 2, e(1) = 1, e(0) = 0, f(n) = gcd(c(n-1),b(n-1)), f(4) = 1, f(3) = 1, f(2) = 1, f(1) = 1, f(0) = 1

#offset 1

mov $2,1
mov $3,1
mov $6,1
sub $0,1
lpb $0
  sub $0,1
  mov $1,$5
  equ $4,0
  mov $5,$2
  mov $6,$3
  gcd $6,$2
  mov $7,$2
  div $7,$6
  add $2,$1
  add $2,$4
  mul $3,$7
  sub $4,3
lpe
mov $0,$6
