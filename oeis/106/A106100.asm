; A106100: Primes with maximal digit = 2.
; Submitted by BlisteringSheep
; 2,211,1021,1201,2011,2111,2221,10211,12011,12101,12211,20011,20021,20101,20201,21001,21011,21101,21121,21211,21221,22111,101021,101221,102001,102101,102121,110221,111121,111211,112111,112121,120011,120121,121001,121021,122011,122021,122201,200201,201011,201101,201121,201211,202001,202021,202121,202201,210011,210101,220021,221021,221101,221201,222011,1000121,1000211,1002101,1002121,1010201,1011221,1012201,1020001,1020011,1020101,1021001,1022011,1022201,1101211,1102001,1102021,1102111,1102201

#offset 1

mov $2,$0
sub $0,1
add $2,3
pow $2,2
lpb $2
  sub $2,1
  mov $3,$1
  add $3,1
  seq $3,74940 ; Numbers having at least one 2 in their ternary representation.
  seq $3,7089 ; Numbers in base 3.
  mov $5,$3
  sub $3,1
  mov $7,$3
  add $3,1
  seq $3,10051 ; Characteristic function of primes: 1 if n is prime, else 0.
  sub $3,1
  mov $8,$7
  sub $8,2
  mul $8,$3
  add $8,2
  mov $6,2
  bin $6,$8
  sub $0,$6
  add $1,1
  mov $3,$6
  mov $4,$0
  max $4,0
  equ $4,$0
  mul $2,$4
lpe
mov $0,$5
