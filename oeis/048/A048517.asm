; A048517: Primes whose sum of digits is the perfect number 28.
; Submitted by [AF>Libristes] Dudumomo
; 1999,3889,4789,4969,4987,5689,5779,5869,6679,6949,6967,7489,7669,7687,7759,7867,7993,8389,8677,8839,8893,8929,9199,9397,9649,9739,9829,9883,9973,12799,12889,12979,13789,13879,14779,14797,14869,14887,15679,15787,15859,15877,16759,16993,17299,17389,17497,17569,17659,17749,17839,17929,18199,18289,18379,18397,18757,18793,18919,18973,19387,19477,19819,19891,19927,19963,20899,21799,21997,22699,23599,23689,23869,23887,23977,24499,24697,24859,24877,24967

#offset 1

sub $0,1
mov $2,$0
add $0,1
add $2,12
pow $2,4
lpb $2
  sub $2,$0
  mov $3,$1
  mul $3,2
  seq $3,25480 ; a(2n) = n, a(2n+1) = a(n).
  mov $5,$3
  add $5,1
  seq $5,5 ; d(n) (also called tau(n) or sigma_0(n)), the number of divisors of n.
  mov $6,$5
  mov $4,$3
  add $4,1
  seq $4,48785 ; a(0) = 0; a(n) = tau(n^3), where tau = number of divisors (A000005).
  gcd $5,$4
  div $6,$5
  mul $4,$6
  add $1,9
  dgs $3,10
  mul $3,2
  div $3,$4
  div $3,2
  sub $3,1
  equ $3,5
  sub $0,$3
lpe
mov $0,$1
sub $0,8
