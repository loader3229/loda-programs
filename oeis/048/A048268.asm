; A048268: Smallest palindrome greater than n in bases n and n+1.
; Submitted by loader3229
; 6643,10,46,67,92,121,154,191,232,277,326,379,436,497,562,631,704,781,862,947,1036,1129,1226,1327,1432,1541,1654,1771,1892,2017,2146,2279,2416,2557,2702,2851,3004,3161,3322,3487,3656,3829,4006,4187,4372,4561,4754,4951,5152,5357,5566,5779,5996,6217,6442,6671,6904,7141,7382,7627,7876,8129,8386,8647,8912,9181,9454,9731,10012,10297,10586,10879,11176,11477,11782,12091,12404,12721,13042,13367
; Formula: a(n) = c(n-2), b(n) = truncate((-109927*truncate((111314*truncate((-1387*b(n-1))/(-1387)))/111314))/(-109927))+1, b(3) = 3, b(2) = 2, b(1) = 1, b(0) = 0, c(n) = d(n-2), c(3) = 67, c(2) = 46, c(1) = 10, c(0) = 6643, d(n) = truncate((d(n-1)*(-109927*truncate((111314*truncate((-1387*b(n-1))/(-1387)))/111314)-186175)+d(n-2)*(111314*truncate((-1387*b(n-1))/(-1387))+483771)+d(n-3)*(-1387*b(n-1)+1387))/81903), d(4) = 154, d(3) = 121, d(2) = 92, d(1) = 67, d(0) = 46

#offset 2

mov $2,6643
mov $3,10
mov $4,46
sub $0,2
lpb $0
  sub $0,1
  mul $1,-1387
  add $1,1387
  mul $2,$1
  mov $5,$2
  sub $1,1387
  div $1,-1387
  mul $1,111314
  add $1,483771
  mov $2,$3
  mul $3,$1
  add $5,$3
  sub $1,483771
  div $1,111314
  mul $1,-109927
  sub $1,186175
  mov $3,$4
  mul $4,$1
  add $5,$4
  add $1,186175
  div $1,-109927
  add $1,1
  mov $4,$5
  div $4,81903
lpe
mov $0,$2
