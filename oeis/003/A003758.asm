; A003758: Number of 2-factors in D_4 X P_n.
; Submitted by [AF] Kalianthys
; 0,3,7,46,193,963,4470,21367,100909,478924,2268405,10753173,50957032,241508575,1144553203,5424374574,25707458901,121834519567,577405414054,2736475971043,12968875078785,61462896633780
; Formula: a(n) = f(n-1), b(n) = 2*c(n-1)+2*d(n-1)+2*f(n-1)+2*f1(n-1)+b(n-1)+e(n-1)+3, b(5) = 3425, b(4) = 729, b(3) = 147, b(2) = 31, b(1) = 3, b(0) = 0, c(n) = d(n-1)+f1(n-1), c(5) = 691, c(4) = 158, c(3) = 27, c(2) = 9, c(1) = 0, c(0) = 0, d(n) = 2*c(n-1)+2*e(n-1)+2*f(n-1)+f1(n-1)+6, d(5) = 2175, d(4) = 442, d(3) = 102, d(2) = 17, d(1) = 6, d(0) = 0, e(n) = max(2*c(n-1)+2*d(n-1)+2*f(n-1)+2*f1(n-1)+b(n-1),1), e(5) = 2813, e(4) = 609, e(3) = 117, e(2) = 27, e(1) = 1, e(0) = 0, f(n) = c(n-1)+e(n-1)+f(n-1)+3, f(5) = 963, f(4) = 193, f(3) = 46, f(2) = 7, f(1) = 3, f(0) = 0, f1(n) = c(n-1)+e(n-1)+f(n-1)+f1(n-1)+3, f1(5) = 1212, f1(4) = 249, f1(3) = 56, f1(2) = 10, f1(1) = 3, f1(0) = 0

#offset 1

sub $0,1
lpb $0
  sub $0,1
  add $2,$5
  add $3,$6
  add $1,$3
  add $1,$3
  add $1,$2
  add $4,$2
  add $4,3
  mov $5,$4
  mov $4,$2
  add $4,$1
  max $4,1
  add $6,$5
  add $1,$5
  mov $2,$3
  mov $3,$5
  add $3,$6
lpe
mov $0,$5
