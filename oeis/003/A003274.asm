; A003274: Number of key permutations of length n: permutations {a_i} with |a_i - a_{i-1}| = 1 or 2.
; Submitted by loader3229
; 1,1,2,6,12,20,34,56,88,136,208,314,470,700,1038,1534,2262,3330,4896,7192,10558,15492,22724,33324,48860,71630,105002,153912,225594,330650,484618,710270,1040980,1525660,2235994,3277040,4802768,7038832,10315944,15118786,22157694,32473716,47592582,69750358,102224158,149816826,219567272,321791520,471608438,691175804,1012967420,1484575956,2175751860,3188719382,4673295442,6849047408,10037766898,14711062450,21560109970,31597876982,46308939548,67869049636,99466926738,145775866408,213644916168
; Formula: a(n) = c(n)+d(n)+1, b(n) = (e(n-1)==1)+b(n-1)+b(n-3)+n, b(4) = 12, b(3) = 7, b(2) = 4, b(1) = 1, b(0) = 0, c(n) = b(n-1), c(4) = 7, c(3) = 4, c(2) = 1, c(1) = 0, c(0) = 0, d(n) = b(n-2), d(4) = 4, d(3) = 1, d(2) = 0, d(1) = 0, d(0) = 0, e(n) = (e(n-1)==1)+n, e(4) = 4, e(3) = 3, e(2) = 3, e(1) = 1, e(0) = 0

lpb $0
  sub $0,1
  equ $4,1
  ror $1,3
  sub $5,1
  sub $4,$5
  add $1,$2
  add $1,$4
lpe
add $2,$3
mov $0,$2
add $0,1
