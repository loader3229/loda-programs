; A097057: Number of integer solutions to a^2 + b^2 + 2*c^2 + 2*d^2 = n.
; Submitted by Simon Strandgaard
; 1,4,8,16,24,24,32,32,24,52,48,48,96,56,64,96,24,72,104,80,144,128,96,96,96,124,112,160,192,120,192,128,24,192,144,192,312,152,160,224,144,168,256,176,288,312,192,192,96,228,248,288,336,216,320,288,192,320,240,240,576,248,256,416,24,336,384,272,432,384,384,288,312,296,304,496,480,384,448,320

mov $1,-1
pow $1,$0
add $1,3
dif $0,2
mov $2,$0
mov $4,2
lpb $4
  sub $4,1
  mov $0,$2
  add $0,$4
  trn $0,1
  seq $0,46895 ; Sizes of successive clusters in Z^4 lattice.
  mov $3,$4
  mul $3,$0
  add $5,$3
lpe
min $2,1
mul $2,$0
mov $0,$5
sub $0,$2
mul $0,$1
div $0,4
