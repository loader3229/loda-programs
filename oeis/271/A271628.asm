; A271628: Primes that are the sum of the digits of the numbers from 1 to n, for some n.
; Submitted by Guilherme Moreno Guimaraes
; 3,73,109,127,433,1009,1117,1801,2017,2089,2143,2467,2503,2791,3079,3331,3583,4159,4519,4663,4951,5437,5581,5923,6121,6301,6553,7039,7561,8353,8623,8821,9001,9199,9631,9811,10837,11719,12637,13177,13249,13627,14401,15391,15607,15679,16183,16381,16561,16759,16903,16993,17551,18181,18307,18523,19477,20071,20161,20719,21601,21799,23041,23599,23833,24481,24859,25237,25471,25849,26839,27073,27253,27847,27919,28027,28603,29179,29683,29881

#offset 1

mov $1,1
mov $2,$0
sub $0,1
mul $2,2
pow $2,2
lpb $2
  mov $3,$1
  seq $3,37123 ; a(n) = a(n-1) + sum of digits of n.
  sub $3,1
  mov $5,$3
  add $3,1
  seq $3,10051 ; Characteristic function of primes: 1 if n is prime, else 0.
  sub $0,$3
  add $1,1
  mov $4,$0
  max $4,0
  equ $4,$0
  mul $2,$4
  trn $2,1
lpe
mov $0,$5
add $0,1
