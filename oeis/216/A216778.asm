; A216778: Number of derangements on n elements with an even number of cycles.
; Submitted by BrandyNOW
; 1,0,0,0,3,20,130,924,7413,66744,667476,7342280,88107415,1145396460,16035550518,240533257860,3848532125865,65425046139824,1177650830516968,22375365779822544,447507315596451051,9397653627525472260,206748379805560389930,4755212735527888968620,114125105652669335247133,2853127641316733381178600,74181318674235067910643900,2002895604204346833587385624,56081076917721711340446797823,1626351230613929628872957137244,48790536918417888866188714117726,1512506644470954554851850137649940
; Formula: a(n) = truncate((-n+gcd(c(n),b(n))+1)/2), b(n) = -n*b(n-1)+1, b(2) = 1, b(1) = 0, b(0) = 1, c(n) = c(n-1), c(2) = 0, c(1) = 0, c(0) = 0

mov $1,1
lpb $0
  sub $0,1
  sub $2,1
  mul $1,$2
  add $1,1
lpe
gcd $3,$1
add $2,$3
mov $0,$2
add $0,1
div $0,2
