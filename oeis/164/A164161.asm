; A164161: Number of binary strings of length n with equal numbers of 0001 and 1000 substrings.
; Submitted by Simon Strandgaard
; 1,2,4,8,14,26,50,100,200,400,800,1600,3200,6400,12800,25600,51200,102400,204800,409600,819200,1638400,3276800,6553600,13107200,26214400,52428800,104857600,209715200,419430400,838860800,1677721600,3355443200,6710886400,13421772800,26843545600,53687091200,107374182400,214748364800,429496729600,858993459200,1717986918400,3435973836800,6871947673600,13743895347200,27487790694400,54975581388800,109951162777600,219902325555200,439804651110400,879609302220800,1759218604441600,3518437208883200
; Formula: a(n) = 2*b(n-1)+2*c(n-1)+2*a(n-1)-2*c(n-1), a(3) = 8, a(2) = 4, a(1) = 2, a(0) = 1, b(n) = (b(n-1)+c(n-1)-1)/(-c(n-1)+b(n-1)+c(n-1)+a(n-1)+1), b(3) = -1, b(2) = 0, b(1) = 0, b(0) = 0, c(n) = -b(n-2)-c(n-2)-a(n-2)+c(n-1)+c(n-2)-2, c(3) = -8, c(2) = -4, c(1) = -1, c(0) = 0

mov $4,1
lpb $0
  sub $0,1
  sub $3,1
  add $2,$3
  sub $4,$3
  add $4,$2
  sub $3,$1
  mov $1,1
  add $1,$4
  div $2,$1
  mul $4,2
lpe
mov $0,$4
