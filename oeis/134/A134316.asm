; A134316: a(n) = index of first derangement of 1..n (n>=2).
; Submitted by BrandyNOW
; 2,4,8,28,128,748,5168,41068,368048,3669868,40284848,482671468,6267305648,87660962668,1313941673648,21010450850668,357001369769648,6423384156578668,122002101778601648,2439325392333218668
; Formula: a(n) = truncate(d(n)/2)+1, b(n) = max(b(n-1)*(n-1),2), b(3) = 4, b(2) = 2, b(1) = 2, b(0) = 0, c(n) = -c(n-1)+max(b(n-1)*(n-1),2), c(3) = 4, c(2) = 0, c(1) = 2, c(0) = 0, d(n) = -c(n-1)+d(n-1)+max(b(n-1)*(n-1),2), d(3) = 6, d(2) = 2, d(1) = 2, d(0) = 0

#offset 2

lpb $0
  sub $0,1
  mul $1,$2
  max $1,2
  add $2,1
  mul $3,-1
  add $3,$1
  add $4,$3
lpe
mov $0,$4
div $0,2
add $0,1
