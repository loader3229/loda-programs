; A134316: a(n) = index of first derangement of 1..n (n>=2).
; Submitted by BrandyNOW
; 2,4,8,28,128,748,5168,41068,368048,3669868,40284848,482671468,6267305648,87660962668,1313941673648,21010450850668,357001369769648,6423384156578668,122002101778601648,2439325392333218668
; Formula: a(n) = -a(n-1)+c(n-1), a(3) = 4, a(2) = 2, a(1) = 2, a(0) = 1, b(n) = n*b(n-1), b(3) = 6, b(2) = 2, b(1) = 1, b(0) = 1, c(n) = n*b(n-1)+c(n-1), c(3) = 12, c(2) = 6, c(1) = 4, c(0) = 3

#offset 2

mov $1,1
mov $2,1
mov $3,1
mov $4,3
lpb $0
  sub $0,1
  mul $1,$3
  mul $2,-1
  add $2,$4
  add $3,1
  add $4,$1
lpe
mov $0,$2
