; A085622: Maximal number of segments (equivalently, corners) in a rook circuit of a 2n X 2n board.
; Submitted by loader3229
; 1,4,12,28,56,88,132,180,240,304,380,460,552,648,756,868,992,1120,1260,1404,1560,1720,1892,2068,2256,2448,2652,2860,3080,3304,3540,3780,4032,4288,4556,4828,5112,5400,5700,6004,6320,6640,6972,7308,7656,8008,8372,8740,9120,9504,9900,10300,10712,11128,11556,11988,12432,12880,13340,13804,14280,14760,15252,15748,16256,16768,17292,17820,18360,18904,19460,20020,20592,21168,21756,22348,22952,23560,24180,24804
; Formula: a(n) = c(n-3), a(4) = 56, a(3) = 28, a(2) = 12, a(1) = 4, a(0) = 1, b(n) = truncate((-452*truncate((164*truncate((452*truncate((-164*b(n-1))/(-164)))/452))/164))/(-452))+1, b(4) = 4, b(3) = 3, b(2) = 2, b(1) = 1, b(0) = 0, c(n) = truncate((c(n-1)*(-452*truncate((164*truncate((452*truncate((-164*b(n-1))/(-164)))/452))/164)+617)+c(n-2)*(164*truncate((452*truncate((-164*b(n-1))/(-164)))/452)+917)+c(n-3)*(452*truncate((-164*b(n-1))/(-164))-41)+c(n-4)*(-164*b(n-1)+164))/505), c(6) = 304, c(5) = 240, c(4) = 180, c(3) = 132, c(2) = 88, c(1) = 56, c(0) = 28

mov $2,1
mov $3,4
mov $4,12
mov $5,28
lpb $0
  sub $0,1
  mul $1,-164
  add $1,164
  mul $2,$1
  mov $6,$2
  sub $1,164
  div $1,-164
  mul $1,452
  sub $1,41
  mov $2,$3
  mul $3,$1
  add $6,$3
  add $1,41
  div $1,452
  mul $1,164
  add $1,917
  mov $3,$4
  mul $4,$1
  add $6,$4
  sub $1,917
  div $1,164
  mul $1,-452
  add $1,617
  mov $4,$5
  mul $5,$1
  add $6,$5
  sub $1,617
  div $1,-452
  add $1,1
  mov $5,$6
  div $5,505
lpe
mov $0,$2
