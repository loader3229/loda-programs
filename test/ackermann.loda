; Ackermann function
;
; Input:
;   $0 = i
;   $1 = n
;
; Output:
;   $3 = A(i,n)
;
; Temporary:
;   $4 = j
;   $5 = value
;   $6 = transferring
;   $7..$(7+i) = diff (array)
;   $(8+i)..$(8+2i) = next (array)


mov $0,5
mov $1,7

mov $4,$0     ; j := i
lpb 4,1       ; j := i..1
  add $4,7
  mov $$4,1   ; diff[j] := 1
  add $4,$0
  mov $$4,0   ; next[j] := 0
  sub $4,$0
  sub $4,8
lpe
add $8,$1     ; diff[0] := n + 1



